/* eslint-disable */
import{useDispatch as bt,useSelector as se}from"react-redux";var Q=()=>Math.random().toString(36).substring(7).split("").join("."),_t={INIT:`@@redux/INIT${Q()}`,REPLACE:`@@redux/REPLACE${Q()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Q()}`};function $e(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function X(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function ue(e){return $e(e)&&"type"in e&&typeof e.type=="string"}var ye=Symbol.for("immer-nothing"),de=Symbol.for("immer-draftable"),b=Symbol.for("immer-state");function v(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var I=Object.getPrototypeOf;function S(e){return!!e&&!!e[b]}function O(e){return e?me(e)||Array.isArray(e)||!!e[de]||!!e.constructor?.[de]||L(e)||U(e):!1}var Fe=Object.prototype.constructor.toString();function me(e){if(!e||typeof e!="object")return!1;let t=I(e);if(t===null)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Fe}function j(e,t){F(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function F(e){let t=e[b];return t?t.type_:Array.isArray(e)?1:L(e)?2:U(e)?3:0}function H(e,t){return F(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ge(e,t,r){let n=F(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Le(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function L(e){return e instanceof Map}function U(e){return e instanceof Set}function k(e){return e.copy_||e.base_}function J(e,t){if(L(e))return new Map(e);if(U(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=me(e);if(t===!0||t==="class_only"&&!r){let n=Object.getOwnPropertyDescriptors(e);delete n[b];let o=Reflect.ownKeys(n);for(let a=0;a<o.length;a++){let i=o[a],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(I(e),n)}else{let n=I(e);if(n!==null&&r)return{...e};let o=Object.create(n);return Object.assign(o,e)}}function ne(e,t=!1){return q(e)||S(e)||!O(e)||(F(e)>1&&(e.set=e.add=e.clear=e.delete=Ue),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>ne(n,!0))),e}function Ue(){v(2)}function q(e){return Object.isFrozen(e)}var qe={};function A(e){let t=qe[e];return t||v(0,e),t}var V;function we(){return V}function We(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function le(e,t){t&&(A("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Z(e){ee(e),e.drafts_.forEach(Be),e.drafts_=null}function ee(e){e===V&&(V=e.parent_)}function fe(e){return V=We(V,e)}function Be(e){let t=e[b];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pe(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return e!==void 0&&e!==r?(r[b].modified_&&(Z(t),v(4)),O(e)&&(e=z(t,e),t.parent_||$(t,e)),t.patches_&&A("Patches").generateReplacementPatches_(r[b].base_,e,t.patches_,t.inversePatches_)):e=z(t,r,[]),Z(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ye?e:void 0}function z(e,t,r){if(q(t))return t;let n=t[b];if(!n)return j(t,(o,a)=>he(e,n,t,o,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return $(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let o=n.copy_,a=o,i=!1;n.type_===3&&(a=new Set(o),o.clear(),i=!0),j(a,(s,c)=>he(e,n,o,s,c,r,i)),$(e,o,!1),r&&e.patches_&&A("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function he(e,t,r,n,o,a,i){if(S(o)){let s=a&&t&&t.type_!==3&&!H(t.assigned_,n)?a.concat(n):void 0,c=z(e,o,s);if(ge(r,n,c),S(c))e.canAutoFreeze_=!1;else return}else i&&r.add(o);if(O(o)&&!q(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;z(e,o),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&$(e,o)}}function $(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ne(t,r)}function Ke(e,t){let r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:we(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},o=n,a=oe;r&&(o=[n],a=R);let{revoke:i,proxy:s}=Proxy.revocable(o,a);return n.draft_=s,n.revoke_=i,s}var oe={get(e,t){if(t===b)return e;let r=k(e);if(!H(r,t))return Qe(e,r,t);let n=r[t];return e.finalized_||!O(n)?n:n===G(e.base_,t)?(Y(e),e.copy_[t]=re(n,e)):n},has(e,t){return t in k(e)},ownKeys(e){return Reflect.ownKeys(k(e))},set(e,t,r){let n=be(k(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let o=G(k(e),t),a=o?.[b];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Le(r,o)&&(r!==void 0||H(e.base_,t)))return!0;Y(e),te(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return G(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Y(e),te(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){let r=k(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){v(11)},getPrototypeOf(e){return I(e.base_)},setPrototypeOf(){v(12)}},R={};j(oe,(e,t)=>{R[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});R.deleteProperty=function(e,t){return R.set.call(this,e,t,void 0)};R.set=function(e,t,r){return oe.set.call(this,e[0],t,r,e[0])};function G(e,t){let r=e[b];return(r?k(r):e)[t]}function Qe(e,t,r){let n=be(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function be(e,t){if(!(t in e))return;let r=I(e);for(;r;){let n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=I(r)}}function te(e){e.modified_||(e.modified_=!0,e.parent_&&te(e.parent_))}function Y(e){e.copy_||(e.copy_=J(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Xe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){let a=r;r=t;let i=this;return function(c=a,...l){return i.produce(c,d=>r.call(this,d,...l))}}typeof r!="function"&&v(6),n!==void 0&&typeof n!="function"&&v(7);let o;if(O(t)){let a=fe(this),i=re(t,void 0),s=!0;try{o=r(i),s=!1}finally{s?Z(a):ee(a)}return le(a,n),pe(o,a)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===ye&&(o=void 0),this.autoFreeze_&&ne(o,!0),n){let a=[],i=[];A("Patches").generateReplacementPatches_(t,o,a,i),n(a,i)}return o}else v(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...s)=>this.produceWithPatches(i,c=>t(c,...s));let n,o;return[this.produce(t,r,(i,s)=>{n=i,o=s}),n,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){O(e)||v(8),S(e)&&(e=Ge(e));let t=fe(this),r=re(e,void 0);return r[b].isManual_=!0,ee(t),r}finishDraft(e,t){let r=e&&e[b];(!r||!r.isManual_)&&v(9);let{scope_:n}=r;return le(n,t),pe(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));let n=A("Patches").applyPatches_;return S(e)?n(e,t):this.produce(e,o=>n(o,t))}};function re(e,t){let r=L(e)?A("MapSet").proxyMap_(e,t):U(e)?A("MapSet").proxySet_(e,t):Ke(e,t);return(t?t.scope_:we()).drafts_.push(r),r}function Ge(e){return S(e)||v(10,e),Ee(e)}function Ee(e){if(!O(e)||q(e))return e;let t=e[b],r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=J(e,t.scope_.immer_.useStrictShallowCopy_)}else r=J(e,!0);return j(r,(n,o)=>{ge(r,n,Ee(o))}),t&&(t.finalized_=!1),r}var E=new Xe,W=E.produce,Ot=E.produceWithPatches.bind(E),Nt=E.setAutoFreeze.bind(E),St=E.setUseStrictShallowCopy.bind(E),Mt=E.applyPatches.bind(E),Pt=E.createDraft.bind(E),Dt=E.finishDraft.bind(E);var xt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?X:X.apply(null,arguments)},It=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}},Ye=e=>e&&typeof e.match=="function";function M(e,t){function r(...n){if(t){let o=t(...n);if(!o)throw new Error(P(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>ue(n)&&n.type===e,r}function _e(e){return O(e)?W(e,()=>{}):e}function B(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Ne(e){let t={},r=[],n,o={addCase(a,i){let s=typeof a=="string"?a:a.type;if(!s)throw new Error(P(28));if(s in t)throw new Error(P(29));return t[s]=i,o},addMatcher(a,i){return r.push({matcher:a,reducer:i}),o},addDefaultCase(a){return n=a,o}};return e(o),[t,r,n]}function He(e){return typeof e=="function"}function Je(e,t){let[r,n,o]=Ne(t),a;if(He(e))a=()=>_e(e());else{let s=_e(e);a=()=>s}function i(s=a(),c){let l=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return l.filter(d=>!!d).length===0&&(l=[o]),l.reduce((d,y)=>{if(y)if(S(d)){let g=y(d,c);return g===void 0?d:g}else{if(O(d))return W(d,w=>y(w,c));{let w=y(d,c);if(w===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return d},s)}return i.getInitialState=a,i}var Ze=(e,t)=>Ye(e)?e.match(t):e(t);function et(...e){return t=>e.some(r=>Ze(r,t))}var tt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rt=(e=21)=>{let t="",r=e;for(;r--;)t+=tt[Math.random()*64|0];return t},nt=["name","message","stack","code"],ie=class{constructor(e,t){this.payload=e,this.meta=t}_type},ve=class{constructor(e,t){this.payload=e,this.meta=t}_type},ot=e=>{if(typeof e=="object"&&e!==null){let t={};for(let r of nt)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},Oe="External signal was aborted",it=(()=>{function e(t,r,n){let o=M(t+"/fulfilled",(c,l,d,y)=>({payload:c,meta:{...y||{},arg:d,requestId:l,requestStatus:"fulfilled"}})),a=M(t+"/pending",(c,l,d)=>({payload:void 0,meta:{...d||{},arg:l,requestId:c,requestStatus:"pending"}})),i=M(t+"/rejected",(c,l,d,y,w)=>({payload:y,error:(n&&n.serializeError||ot)(c||"Rejected"),meta:{...w||{},arg:d,requestId:l,rejectedWithValue:!!y,requestStatus:"rejected",aborted:c?.name==="AbortError",condition:c?.name==="ConditionError"}}));function s(c,{signal:l}={}){return(d,y,w)=>{let g=n?.idGenerator?n.idGenerator(c):rt(),_=new AbortController,D,x;function C(u){x=u,_.abort()}l&&(l.aborted?C(Oe):l.addEventListener("abort",()=>C(Oe),{once:!0}));let T=(async function(){let u;try{let f=n?.condition?.(c,{getState:y,extra:w});if(st(f)&&(f=await f),f===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};let N=new Promise((h,m)=>{D=()=>{m({name:"AbortError",message:x||"Aborted"})},_.signal.addEventListener("abort",D)});d(a(g,c,n?.getPendingMeta?.({requestId:g,arg:c},{getState:y,extra:w}))),u=await Promise.race([N,Promise.resolve(r(c,{dispatch:d,getState:y,extra:w,requestId:g,signal:_.signal,abort:C,rejectWithValue:(h,m)=>new ie(h,m),fulfillWithValue:(h,m)=>new ve(h,m)})).then(h=>{if(h instanceof ie)throw h;return h instanceof ve?o(h.payload,g,c,h.meta):o(h,g,c)})])}catch(f){u=f instanceof ie?i(null,g,c,f.payload,f.meta):i(f,g,c)}finally{D&&_.signal.removeEventListener("abort",D)}return n&&!n.dispatchConditionRejection&&i.match(u)&&u.meta.condition||d(u),u})();return Object.assign(T,{abort:C,requestId:g,arg:c,unwrap(){return T.then(at)}})}}return Object.assign(s,{pending:a,rejected:i,fulfilled:o,settled:et(i,o),typePrefix:t})}return e.withTypes=()=>e,e})();function at(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function st(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Se=Symbol.for("rtk-slice-createasyncthunk"),jt={[Se]:it};function ct(e,t){return`${e}/${t}`}function ut({creators:e}={}){let t=e?.asyncThunk?.[Se];return function(n){let{name:o,reducerPath:a=o}=n;if(!o)throw new Error(P(11));typeof process<"u";let i=(typeof n.reducers=="function"?n.reducers(lt()):n.reducers)||{},s=Object.keys(i),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(u,p){let f=typeof u=="string"?u:u.type;if(!f)throw new Error(P(12));if(f in c.sliceCaseReducersByType)throw new Error(P(13));return c.sliceCaseReducersByType[f]=p,l},addMatcher(u,p){return c.sliceMatchers.push({matcher:u,reducer:p}),l},exposeAction(u,p){return c.actionCreators[u]=p,l},exposeCaseReducer(u,p){return c.sliceCaseReducersByName[u]=p,l}};s.forEach(u=>{let p=i[u],f={reducerName:u,type:ct(o,u),createNotation:typeof n.reducers=="function"};pt(p)?yt(f,p,l,t):ft(f,p,l)});function d(){let[u={},p=[],f=void 0]=typeof n.extraReducers=="function"?Ne(n.extraReducers):[n.extraReducers],N={...u,...c.sliceCaseReducersByType};return Je(n.initialState,h=>{for(let m in N)h.addCase(m,N[m]);for(let m of c.sliceMatchers)h.addMatcher(m.matcher,m.reducer);for(let m of p)h.addMatcher(m.matcher,m.reducer);f&&h.addDefaultCase(f)})}let y=u=>u,w=new Map,g=new WeakMap,_;function D(u,p){return _||(_=d()),_(u,p)}function x(){return _||(_=d()),_.getInitialState()}function C(u,p=!1){function f(h){let m=h[u];return typeof m>"u"&&p&&(m=B(g,f,x)),m}function N(h=y){let m=B(w,p,()=>new WeakMap);return B(m,h,()=>{let ce={};for(let[je,ze]of Object.entries(n.selectors??{}))ce[je]=dt(ze,h,()=>B(g,h,x),p);return ce})}return{reducerPath:u,getSelectors:N,get selectors(){return N(f)},selectSlice:f}}let T={name:o,reducer:D,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...C(a),injectInto(u,{reducerPath:p,...f}={}){let N=p??a;return u.inject({reducerPath:N,reducer:D},f),{...T,...C(N,!0)}}};return T}}function dt(e,t,r,n){function o(a,...i){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...i)}return o.unwrapped=e,o}var Me=ut();function lt(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function ft({type:e,reducerName:t,createNotation:r},n,o){let a,i;if("reducer"in n){if(r&&!ht(n))throw new Error(P(17));a=n.reducer,i=n.prepare}else a=n;o.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,i?M(e,i):M(e))}function pt(e){return e._reducerDefinitionType==="asyncThunk"}function ht(e){return e._reducerDefinitionType==="reducerWithPrepare"}function yt({type:e,reducerName:t},r,n,o){if(!o)throw new Error(P(18));let{payloadCreator:a,fulfilled:i,pending:s,rejected:c,settled:l,options:d}=r,y=o(e,a,d);n.exposeAction(t,y),i&&n.addCase(y.fulfilled,i),s&&n.addCase(y.pending,s),c&&n.addCase(y.rejected,c),l&&n.addMatcher(y.settled,l),n.exposeCaseReducer(t,{fulfilled:i||K,pending:s||K,rejected:c||K,settled:l||K})}function K(){}var Pe="listener",De="completed",Ce="cancelled",zt=`task-${Ce}`,$t=`task-${De}`,Ft=`${Pe}-${Ce}`,Lt=`${Pe}-${De}`;var{assign:ke}=Object;var ae="listenerMiddleware";var mt=ke(M(`${ae}/add`),{withTypes:()=>mt}),Ut=M(`${ae}/removeAll`),gt=ke(M(`${ae}/remove`),{withTypes:()=>gt});var qt=Symbol.for("rtk-state-proxy-original");function P(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wt={items:{},totalCount:0,totalPrice:0},Ae=Me({name:"cart",initialState:wt,reducers:{addItem:(e,t)=>{let r=t.payload,n=e.items[r.id]||[],o=r.variant??"",a=n.findIndex(s=>s.variant===o),i;if(a!==-1){let s=n[a],c=s.quantity+1;i=[...n],i[a]={...s,quantity:c,totalPrice:s.price*c}}else i=[...n,{...r,quantity:1,totalPrice:r.price}];e.items[r.id]=i,e.totalCount+=1,e.totalPrice+=r.price},plusQuantity:(e,t)=>{let{productId:r,variant:n}=t.payload,a=(e.items[r]||[]).map(i=>{if(i.variant===n){let s=i.quantity+1;return e.totalCount+=1,e.totalPrice+=i.price,{...i,quantity:s,totalPrice:i.price*s}}return i});e.items[r]=a},minusQuantity:(e,t)=>{let{productId:r,variant:n}=t.payload,a=(e.items[r]||[]).map(i=>{if(i.variant===n){if(i.quantity<=1)return null;let s=i.quantity-1;return e.totalCount-=1,e.totalPrice-=i.price,{...i,quantity:s,totalPrice:i.price*s}}return i}).filter(i=>i!==null);e.items[r]=a},removeItem:(e,t)=>{let{productId:r,variant:n}=t.payload,o=e.items[r]||[],a=o.find(s=>s.variant===n);if(!a)return;let i=o.filter(s=>s.variant!==n);i.length===0?delete e.items[r]:e.items[r]=i,e.totalCount-=a.quantity,e.totalPrice-=a.quantity*a.price},mergeCartLocal:(e,t)=>{if(t.payload.length!==0)for(let r of t.payload){let n=r.id.toString(),o=e.items[n]||[],a=o.findIndex(s=>s.variantId===r.variantId),i;a===-1&&(i=[...o,{...r,totalPrice:r.price*r.quantity}],e.items[n]=i,e.totalCount+=r.quantity,e.totalPrice+=r.price*r.quantity)}}}}),{addItem:xe,plusQuantity:Ie,minusQuantity:Te,removeItem:Ve,mergeCartLocal:Re}=Ae.actions,Yt=Ae.reducer;var Et=()=>{let e=bt(),t=se(i=>i.cart.items),r=se(i=>i.cart.totalCount),n=se(i=>i.cart.totalPrice);return{...{items:t,totalCount:r,totalPrice:n},...{addItem:i=>e(xe(i)),plusQuantity:(i,s)=>e(Ie({productId:i,variant:s})),minusQuantity:(i,s)=>e(Te({productId:i,variant:s})),removeItem:(i,s)=>e(Ve({productId:i,variant:s})),mergeCartLocal:i=>e(Re(i))}}};export{Et as useCart};
